# -*- coding: utf-8 -*-

# 完整的招式描述翻譯對照表（手工校對過）
move_descriptions = {
    # Bug
    1: "用堅硬而壯觀的角猛烈撞擊對手。",
    2: "命令手下發動攻擊。容易擊中要害。",
    3: "透過翅膀振動產生破壞性音波。有時會降低對手的特防。",
    4: "將鐮刀或爪子像剪刀般交叉劈向對手。",
    5: "發射不可思議的光線攻擊。有時會使對手混亂。",
    6: "攻擊後迅速返回並替換其他寶可夢上場。",
    7: "蜷縮成球狀滾動攻擊對手。有時會使對手畏縮。",
    8: "啃咬對手。若對手攜帶樹果，可以吃掉並獲得其效果。",
    9: "用鱗粉捲起強風攻擊。有時會提升使用者所有能力。",
    10: "進行反擊。降低對手的特攻。",
    11: "用針刺向對手兩次。有時會使對手中毒。",
    12: "用爪或鐮刀攻擊。連續使用威力會提升。",
    13: "吸取對手的HP，回復給自己傷害的一半。",
    14: "發射細針攻擊2～5次。",
    15: "聰慧",
    16: "聰慧",
    17: "跳起神秘之舞，提升特攻、特防和速度。",
    18: "美麗",
    19: "用絲纏繞對手使其無法逃走。",
    20: "吐絲降低對手的速度。",
    21: "凝聚光芒大幅提升特攻。",
    
    # Dark
    22: "利用對手的力量攻擊。對手攻擊力越高傷害越大。",
    23: "用不祥的波動攻擊對手。有時會降低對手的命中率。",
    24: "用尖牙咬碎對手。有時會降低對手的防禦。",
    25: "釋放充滿惡意的恐怖波動。有時會使對手畏縮。",
    26: "先制攻擊。若對手沒有使用攻擊招式則會失敗。",
    27: "趁對手不備發動攻擊。容易擊中要害。",
    28: "用力咬住對手。有時會使對手畏縮。",
    29: "佯裝接近後進行攻擊。必定命中。",
    30: "發出刺耳的叫聲降低對手的特攻。",
    31: "若對手已經受傷則威力翻倍。",
    32: "後發制人，威力翻倍。",
    33: "對正要替換的對手造成雙倍傷害。",
    34: "攻擊對手並奪取其道具。若使用者已攜帶道具則失敗。",
    35: "拍落對手的道具使其無法使用。",
    36: "同行寶可夢全體攻擊。寶可夢越多攻擊次數越多。",
    37: "將自己的道具丟向對手。威力和效果依道具而定。",
    38: "對手的能力提升越多威力越大。",
    39: "將對手拉入黑暗的世界使其睡眠。",
    40: "使對手無法使用道具。訓練家也無法對其使用道具。",
    41: "流下假淚大幅降低對手的特防。",
    42: "奉承對手使其混亂，但會提升對手的特攻。",
    43: "磨爪提升攻擊和命中率。",
    44: "犧牲自己大幅降低對手的攻擊和特攻。",
    45: "思考壞事刺激大腦。大幅提升特攻。",
    46: "讓對手變成該回合最後行動。",
    47: "奪取對手的回復或能力變化效果。",
    48: "與對手交換彼此的道具。",
    49: "激怒對手使其3回合內只能使用攻擊招式。",
    50: "折磨對手使其無法連續使用同一招式。",
    
    # Dragon
    51: "以扭曲時間的巨大能量攻擊對手。使用者下一回合須休息。",
    52: "從天空降下大量彗星。大幅降低使用者的特攻。",
    53: "陷入瘋狂持續攻擊2～3回合，之後自己陷入混亂。",
    54: "以猛烈方式攻擊並威嚇對手。有時會使對手畏縮。",
    55: "撕裂對手及周圍空間。容易擊中要害。",
    56: "張大嘴巴釋放衝擊波攻擊對手。",
    57: "用銳利的爪子抓對手。",
    58: "攻擊對手並迫使其替換。對野生寶可夢使用時可結束戰鬥。",
    59: "用威力強大的氣息攻擊對手。有時會使對手麻痺。",
    60: "用尾巴或其他身體部位連續攻擊對手2次。",
    61: "製造猛烈龍捲風粉碎對手。有時會使對手畏縮。",
    62: "釋放憤怒的衝擊波，固定造成40點傷害。",
    63: "跳起神秘之舞，提升攻擊和速度。",
    
    # Electric
    64: "被強大電擊包圍並衝撞對手。有時會使對手麻痺。",
    65: "威力強大的雷電攻擊。有時會使對手麻痺。",
    66: "高風險的電擊衝撞，使用者也會受傷。",
    67: "發射巨大電擊造成傷害並使對手麻痺。",
    68: "用巨大電擊攻擊。若受到巨大火焰影響則威力提升。",
    69: "強力的電擊攻擊。有時會使對手麻痺。",
    70: "威力強大的電擊衝撞，使用者也會受到輕微傷害。",
    71: "耀眼的電擊波動影響周圍的寶可夢。有時會麻痺。",
    72: "電擊拳。有時會使對手麻痺。",
    73: "攻擊後迅速返回並替換其他寶可夢上場。",
    74: "電擊攻擊。有時會使對手麻痺。",
    75: "用帶電的牙齒咬對手。有時會使對手畏縮或麻痺。",
    76: "極快的電擊攻擊，必定命中。",
    77: "用電網捕捉並攻擊對手。也會降低對手的速度。",
    78: "向對手發射電擊光線。有時會提升使用者的特攻。",
    79: "電擊攻擊。有時會使對手麻痺。",
    80: "發射電球。使用者速度越快，傷害越大。",
    81: "充電以強化下一個電屬性招式。也會提升特防。",
    82: "藉由電力產生的磁場浮空，持續5回合。",
    83: "輕微的電擊。命中時使對手麻痺。",
    
    # Fighting
    84: "集中精神使出拳擊。若使用前受到攻擊則會失敗。",
    85: "跳得很高並踢擊。如果失敗則傷害使用者。",
    86: "正面與對手戰鬥而不防守。也會降低使用者的防禦和特防。",
    87: "集中精神力量釋放能量。有時會降低對手的特防。",
    88: "威力強大的攻擊，但會降低使用者的攻擊和防禦。",
    89: "雙重切割攻擊，容易擊中要害。",
    90: "集中全力的拳擊。命中時使對手混亂。",
    91: "用力旋轉拳頭給予重擊。但是會降低速度。",
    92: "跳起並踢擊。如果失敗則使用者受傷。",
    93: "從體內釋放波導力量。必定命中。",
    94: "使用者用劍攻擊，無視對手的能力變化。",
    95: "用劍刺穿對手。以對手的防禦而非特防計算傷害。",
    96: "威力強大的上勾拳。",
    97: "將對手摔到地上。使用者也會受傷。",
    98: "強力攻擊，也能破壞光牆和反射壁等屏障。",
    99: "吸取能量的攻擊。使用者回復給予對手傷害的一半HP。",
    100: "使用者最後攻擊，但必定命中。",
}

# 讀取檔案
with open("D:\\Opalo V2.11\\localization\\translations\\pbs\\moves.txt", "r", encoding="utf-8-sig") as f:
    lines = f.readlines()

# 替換描述
new_lines = []
for line in lines:
    if line.strip() == "" or line.startswith("#"):
        new_lines.append(line)
        continue
    
    parts = line.strip().split(",")
    if len(parts) < 13:
        new_lines.append(line)
        continue
    
    try:
        move_id = int(parts[0].replace("﻿", ""))
        
        if move_id in move_descriptions:
            # 保留前13個欄位，替換描述
            prefix = ",".join(parts[:13])
            new_desc = move_descriptions[move_id]
            new_line = f'{prefix},"{new_desc}"\n'
            new_lines.append(new_line)
        else:
            # 保持原樣
            new_lines.append(line)
    except:
        new_lines.append(line)

# 寫回檔案
with open("D:\\Opalo V2.11\\localization\\translations\\pbs\\moves.txt", "w", encoding="utf-8-sig") as f:
    f.writelines(new_lines)

print(f"✅ 已修正前 100 個招式描述")
